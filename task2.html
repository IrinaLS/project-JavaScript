<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Урок 6 Задание2</title>
    <link rel="stylesheet" href="./css/style.css"> </head>

<body>
    <section id="user_goods"> </section>
    <section id="user_sum"> </section>
    <section class="goods">
        <div class="goods__box"> </div>
        <div class="goods__box"> </div>
        <div class="goods__box"> </div>
    </section>
    <script>
        var cart;
        var sum = document.getElementById("user_sum");;
        var userSum = 0;
        var goodsList = document.querySelectorAll("div");
        var userList = document.getElementById("user_goods");
        cart = document.createElement("p");
        cart.innerHTML = "Итоговая сумма корзины: " + userSum + " руб. ";
        sum.append(cart);
        var card = [{
            name: "Щетка автомобильная"
            , picture: "./img/pic-chetka.jpg"
            , price: 200
        }, {
            name: "Кабель автомобильный"
            , picture: "./img/pic-kabel.jpg"
            , price: 300
        }, {
            name: "Коврик автомобильный"
            , picture: "./img/pic-kover.jpg"
            , price: 400
        }];

        function calcCard(e) {
            cart = document.createElement("p");
            cart.innerHTML = card[parseInt(e.target.id.split("")[1])].name + ": " + card[parseInt(e.target.id.split("")[1])].price + " руб. ";
            userList.append(cart);
            userSum = userSum + card[parseInt(e.target.id.split("")[1])].price;
            sum.innerHTML = "Итоговая сумма корзины: " + userSum + " руб. ";
        };
        for (var i = 0; i < 3; i++) {
            cart = document.createElement("p");
            cart.innerHTML = card[i].name;
            goodsList[i].append(cart);
            cart = document.createElement("img");
            cart.src = card[i].picture;
            goodsList[i].append(cart);
            cart = document.createElement("p");
            cart.innerHTML = "Цена: " + card[i].price + ".руб";
            goodsList[i].append(cart);
            cart = document.createElement("button");
            cart.type = "button";
            cart.innerHTML = "Купить";
            cart.onclick = calcCard;
            cart.id = "c" + i;
            goodsList[i].append(cart);
        };
    </script>
</body>

</html>